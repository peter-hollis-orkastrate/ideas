# =============================================================================
# OCR Provenance MCP System - Python Dependencies (Local AI Edition)
# =============================================================================
# Install with: pip install -r requirements.txt
# Works on Linux, macOS (Intel + Apple Silicon), and Windows.
# GPU optional: auto-detects CUDA > MPS > CPU at runtime.

# -----------------------------------------------------------------------------
# Local OCR — replaces Datalab cloud API
# Marker converts PDFs and images to markdown using local AI (Surya, layout models)
# Docs: https://github.com/VikParuchuri/marker
# -----------------------------------------------------------------------------
marker-pdf>=1.0.0
# Office files (DOCX/XLSX/PPTX) are converted via LibreOffice — install separately:
#   Ubuntu/Debian: sudo apt install libreoffice
#   macOS:         brew install --cask libreoffice

# -----------------------------------------------------------------------------
# Embedding Model & Deep Learning
# -----------------------------------------------------------------------------
sentence-transformers>=2.7.0
transformers>=4.40.0
einops>=0.7.0
torch>=2.5.0
# For CUDA support, install the CUDA variant:
#   pip install torch --index-url https://download.pytorch.org/whl/cu124
# For CPU-only (smaller download):
#   pip install torch --index-url https://download.pytorch.org/whl/cpu

# -----------------------------------------------------------------------------
# Numerical & Data Processing
# -----------------------------------------------------------------------------
numpy>=1.26.0
scipy>=1.12.0

# -----------------------------------------------------------------------------
# Image Processing (for VLM pipeline)
# -----------------------------------------------------------------------------
PyMuPDF>=1.24.0
Pillow>=10.0.0

# -----------------------------------------------------------------------------
# Machine Learning (for clustering worker)
# -----------------------------------------------------------------------------
scikit-learn>=1.3.0

# -----------------------------------------------------------------------------
# HTTP (for file manager worker)
# -----------------------------------------------------------------------------
requests>=2.28.0
urllib3>=2.0.0

# -----------------------------------------------------------------------------
# GPU Monitoring (replaces deprecated pynvml transitively pulled by torch)
# -----------------------------------------------------------------------------
nvidia-ml-py>=12.560.30
